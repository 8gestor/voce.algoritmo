<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interface de Leitura // A Versão de Você</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

    <style>
        :root {
            /* Palette Tech Minimalista */
            --bg-body: #09090b;       /* Preto Fosco Profundo */
            --bg-panel: #121214;      /* Cinza Chumbo */
            --bg-hover: #27272a;      /* Cinza Interativo */
            --border: #27272a;        /* Linhas Sutis */
            
            --text-main: #e4e4e7;     /* Branco Sujo (Conforto) */
            --text-muted: #71717a;    /* Cinza Metálico */
            
            --accent: #3b82f6;        /* Azul Interface (Foco) */
            --accent-glow: rgba(59, 130, 246, 0.15);
            
            --font-ui: 'Inter', sans-serif;
            --font-tech: 'JetBrains Mono', monospace;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }

        body {
            background-color: var(--bg-body);
            color: var(--text-main);
            font-family: var(--font-ui);
            height: 100vh;
            display: flex;
            overflow: hidden;
            font-size: 14px;
        }

        /* --- SIDEBAR (Minimalista) --- */
        aside.sidebar {
            width: 280px;
            background: var(--bg-panel);
            border-right: 1px solid var(--border);
            display: flex; flex-direction: column;
            flex-shrink: 0;
            z-index: 50;
            transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1); /* Animação suave */
        }
        
        aside.sidebar.collapsed { margin-left: -280px; }

        .sidebar-header {
            height: 60px;
            border-bottom: 1px solid var(--border);
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 20px;
        }
        .sys-label { font-family: var(--font-tech); font-size: 0.7rem; color: var(--text-muted); letter-spacing: 1px; }

        nav.nav-tree { flex: 1; overflow-y: auto; padding: 20px 0; }

        /* Links da Sidebar */
        .chapter-link {
            display: flex; align-items: center; justify-content: space-between;
            padding: 10px 20px;
            color: var(--text-muted); text-decoration: none;
            transition: all 0.2s; border-left: 2px solid transparent;
            font-size: 0.9rem;
        }
        
        .chapter-link:hover { background: var(--bg-hover); color: var(--text-main); }
        
        .chapter-link.active {
            background: var(--accent-glow);
            color: var(--accent);
            border-left-color: var(--accent);
            font-weight: 500;
        }

        .chapter-num { font-family: var(--font-tech); font-size: 0.75rem; opacity: 0.5; margin-right: 10px; }

        /* --- ÁREA PRINCIPAL --- */
        main.interface {
            flex: 1; display: flex; flex-direction: column; position: relative; width: 100%;
        }

        /* HEADER (Centralizado e Limpo) */
        header.top-bar {
            height: 60px;
            background: var(--bg-body);
            border-bottom: 1px solid var(--border);
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 20px;
        }

        .header-left, .header-right { width: 100px; display: flex; align-items: center; }
        .header-right { justify-content: flex-end; gap: 10px; }

        .book-title {
            flex: 1; text-align: center;
            font-family: var(--font-tech);
            font-size: 0.8rem; letter-spacing: 0.5px;
            color: var(--text-main);
            text-transform: uppercase;
            white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
        }

        /* Botões de Ícone (Quadrados e Clean) */
        .icon-btn {
            width: 36px; height: 36px;
            background: transparent; border: 1px solid var(--border);
            color: var(--text-muted); border-radius: 6px;
            cursor: pointer; display: flex; align-items: center; justify-content: center;
            transition: all 0.2s;
        }
        .icon-btn:hover { border-color: var(--text-main); color: var(--text-main); background: var(--bg-hover); }

        /* READER AREA */
        .viewport {
            flex: 1; position: relative; background: #000;
            display: flex; flex-direction: column;
        }

        /* Barra de Progresso Fina no Topo do Leitor */
        .progress-line { width: 100%; height: 2px; background: var(--border); }
        .progress-fill { height: 100%; background: var(--accent); width: 0%; transition: width 0.5s ease; box-shadow: 0 0 10px var(--accent); }

        iframe.content-frame {
            flex: 1; border: none; width: 100%;
            opacity: 0; animation: fadeIn 0.6s forwards 0.3s;
        }

        /* FOOTER (Navegação Dinâmica) */
        footer.command-bar {
            height: 70px;
            background: var(--bg-panel);
            border-top: 1px solid var(--border);
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 30px;
        }

        /* Botões de Texto Grandes */
        .nav-btn {
            background: transparent; border: 1px solid var(--border);
            color: var(--text-main);
            padding: 0 25px; height: 42px;
            font-family: var(--font-tech); font-size: 0.8rem;
            text-transform: uppercase; letter-spacing: 1px;
            border-radius: 4px; cursor: pointer;
            transition: all 0.2s;
            display: flex; align-items: center; gap: 10px;
        }
        
        .nav-btn:hover:not(:disabled) {
            background: var(--text-main); color: var(--bg-body); border-color: var(--text-main);
            transform: translateY(-2px);
        }
        
        .nav-btn:disabled { opacity: 0.3; cursor: not-allowed; border-color: transparent; }

        .chapter-status {
            text-align: center;
            display: flex; flex-direction: column; gap: 2px;
        }
        .status-label { font-size: 0.65rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; }
        .status-val { font-family: var(--font-tech); font-size: 0.85rem; color: var(--accent); }

        /* Responsividade */
        @media (max-width: 768px) {
            aside.sidebar { position: absolute; height: 100%; margin-left: -280px; box-shadow: 10px 0 30px rgba(0,0,0,0.5); }
            aside.sidebar.open { margin-left: 0; }
            .book-title { font-size: 0.7rem; white-space: normal; line-height: 1.2; }
            .nav-btn span { display: none; } /* Esconde texto 'Anterior/Próximo' mantendo setas */
            .nav-btn { padding: 0 15px; }
            .chapter-status { display: none; }
        }

        @keyframes fadeIn { to { opacity: 1; } }
    </style>
</head>
<body>

    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <span class="sys-label">INDEX // V.2.0</span>
            <button class="icon-btn" style="border:none; width:auto;" onclick="toggleSidebar()">✕</button>
        </div>

        <nav class="nav-tree">
            <a href="introducao.html" target="viewer" class="chapter-link active" onclick="loadChapter(this)">
                <span>Diagnóstico Inicial</span> <span class="chapter-num">00</span>
            </a>
            
            <div style="height: 1px; background: var(--border); margin: 10px 20px;"></div>

            <a href="cap01.html" target="viewer" class="chapter-link" onclick="loadChapter(this)">
                <span>O Cérebro não é PC</span> <span class="chapter-num">01</span>
            </a>
            <a href="cap02.html" target="viewer" class="chapter-link" onclick="loadChapter(this)">
                <span>Sequestro da Atenção</span> <span class="chapter-num">02</span>
            </a>
            <a href="cap03.html" target="viewer" class="chapter-link" onclick="loadChapter(this)">
                <span>O Eu Inferido</span> <span class="chapter-num">03</span>
            </a>
            <a href="cap04.html" target="viewer" class="chapter-link" onclick="loadChapter(this)">
                <span>Necropolítica Digital</span> <span class="chapter-num">04</span>
            </a>
            <a href="cap05.html" target="viewer" class="chapter-link" onclick="loadChapter(this)">
                <span>Smart Cities</span> <span class="chapter-num">05</span>
            </a>
            <a href="cap06.html" target="viewer" class="chapter-link" onclick="loadChapter(this)">
                <span>Tribunal Algorítmico</span> <span class="chapter-num">06</span>
            </a>
            <a href="cap07.html" target="viewer" class="chapter-link" onclick="loadChapter(this)">
                <span>O Patrão Invisível</span> <span class="chapter-num">07</span>
            </a>
            <a href="cap08.html" target="viewer" class="chapter-link" onclick="loadChapter(this)">
                <span>A Internet Morta</span> <span class="chapter-num">08</span>
            </a>
            <a href="cap09.html" target="viewer" class="chapter-link" onclick="loadChapter(this)">
                <span>A Nuvem de Pedra</span> <span class="chapter-num">09</span>
            </a>
            <a href="cap10.html" target="viewer" class="chapter-link" onclick="loadChapter(this)">
                <span>Neuro-direitos</span> <span class="chapter-num">10</span>
            </a>
            <a href="cap11.html" target="viewer" class="chapter-link" onclick="loadChapter(this)">
                <span>Protocolo de Retomada</span> <span class="chapter-num">11</span>
            </a>
            <a href="cap12.html" target="viewer" class="chapter-link" onclick="loadChapter(this)">
                <span>Tecnofeudalismo</span> <span class="chapter-num">12</span>
            </a>
            <a href="cap13.html" target="viewer" class="chapter-link" onclick="loadChapter(this)">
                <span>Imaginação Radical</span> <span class="chapter-num">13</span>
            </a>
            <a href="cap14.html" target="viewer" class="chapter-link" onclick="loadChapter(this)">
                <span>Epílogo</span> <span class="chapter-num">EP</span>
            </a>
        </nav>
    </aside>

    <main class="interface">
        
        <header class="top-bar">
            <div class="header-left">
                <button class="icon-btn" onclick="toggleSidebar()" title="Menu">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
                </button>
            </div>

            <div class="book-title">
                A VERSÃO DE VOCÊ QUE OS ALGORÍTIMOS ACREDITAM QUE VOCÊ É
            </div>

            <div class="header-right">
                <button class="icon-btn" onclick="toggleFullScreen()" title="Tela Cheia">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/></svg>
                </button>
            </div>
        </header>

        <div class="viewport">
            <div class="progress-line"><div class="progress-fill" id="progress-bar"></div></div>
            <iframe src="introducao.html" name="viewer" id="main-frame" class="content-frame"></iframe>
        </div>

        <footer class="command-bar">
            <button class="nav-btn" id="btn-prev" onclick="navigateChapter(-1)">
                ← <span>Anterior</span>
            </button>

            <div class="chapter-status">
                <span class="status-label">LENDO ARQUIVO</span>
                <span class="status-val" id="current-chapter-display">DIAGNÓSTICO INICIAL</span>
            </div>

            <button class="nav-btn" id="btn-next" onclick="navigateChapter(1)">
                <span>Próximo</span> →
            </button>
        </footer>

    </main>

    <script>
        // --- LÓGICA DO SISTEMA ---
        let currentIdx = 0;
        const links = Array.from(document.querySelectorAll('.chapter-link'));
        const displayTitle = document.getElementById('current-chapter-display');
        const progressBar = document.getElementById('progress-bar');
        
        function loadChapter(element) {
            // Atualiza UI dos links
            links.forEach(l => l.classList.remove('active'));
            element.classList.add('active');
            
            // Atualiza índice atual
            currentIdx = links.indexOf(element);
            
            // Atualiza Texto Central Inferior
            const rawText = element.querySelector('span').innerText; 
            displayTitle.innerText = rawText.toUpperCase();

            // Atualiza Barra de Progresso Visual
            const percent = ((currentIdx + 1) / links.length) * 100;
            progressBar.style.width = percent + '%';

            // Comportamento Mobile (Fecha menu ao clicar)
            if (window.innerWidth <= 768) {
                document.getElementById('sidebar').classList.remove('open');
            }

            // Atualiza estado dos botões de rodapé
            updateButtons();
        }

        function navigateChapter(dir) {
            const nextIdx = currentIdx + dir;
            // Se o índice for válido, clica no link correspondente
            if (nextIdx >= 0 && nextIdx < links.length) {
                links[nextIdx].click();
            }
        }

        function updateButtons() {
            document.getElementById('btn-prev').disabled = (currentIdx === 0);
            document.getElementById('btn-next').disabled = (currentIdx === links.length - 1);
        }

        // --- FUNÇÕES DE INTERFACE ---
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            if (window.innerWidth <= 768) {
                sidebar.classList.toggle('open');
            } else {
                sidebar.classList.toggle('collapsed');
            }
        }

        // --- FULLSCREEN (TELA CHEIA) ---
        function toggleFullScreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch((e) => {
                    console.log("Erro ao entrar em tela cheia:", e);
                });
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
            }
        }

        // --- INICIALIZAÇÃO ---
        window.onload = () => {
            updateButtons();
            // Inicia barra de progresso
            progressBar.style.width = (1 / links.length * 100) + '%';
        }
    </script>
</body>
</html>




